function imgpreload(f,e){if(e instanceof Function){e={all:e}}if(typeof f=="string"){f=[f]}var b=[];var d=f.length;var c=0;for(c;c<d;c++){var a=new Image();$(a).bind("load",null,function(){b.push(this);if(e.each instanceof Function){e.each.call(this)}if(b.length>=d&&e.all instanceof Function){e.all.call(b)}}).bind("error",null,function(){d--;if(b.length>=d&&e.all instanceof Function){e.all.call(b)}});a.src=f[c]}}if(typeof jQuery!="undefined"){(function(a){a.imgpreload=imgpreload;a.fn.imgpreload=function(c){c=a.extend({},a.fn.imgpreload.defaults,(c instanceof Function)?{all:c}:c);this.each(function(){var e=this;imgpreload(a(this).attr("src"),function(){if(c.each instanceof Function){c.each.call(e)}})});var d=[];this.each(function(){d.push(a(this).attr("src"))});var b=this;imgpreload(d,function(){if(c.all instanceof Function){c.all.call(b)}});return this};a.fn.imgpreload.defaults={each:null,all:null}})(jQuery)};